# Webpack Lesson 34 ‚Äì –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ Webpack

## üìñ –Ü—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ—î–∫—Ç—É

–¶–µ–π –ø—Ä–æ—î–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Å—É—á–∞—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó JavaScript-–ø—Ä–æ—î–∫—Ç—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é **Webpack** ‚Äì –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–æ–≥–æ –º–æ–¥—É–ª—å–Ω–æ–≥–æ –∑–±–∏—Ä–∞—á–∞. –ù–∞–≤—á–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –ø–æ–∫–∞–∑—É—î, —è–∫ –ø—Ä–∞—Ü—é—é—Ç—å:

- **ES –º–æ–¥—É–ª—ñ** (`import`/`export`) –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–¥—É
- **Path aliases** (`@css`, `@model`, `@assets`) –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è —ñ–º–ø–æ—Ä—Ç—ñ–≤
- **–î–∏–Ω–∞–º—ñ—á–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∞–∫—Ç–∏–≤—ñ–≤** (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, —Å—Ç–∏–ª—ñ, –¥–∞–Ω—ñ XML/CSV)
- **–¢—Ä—ñ–º–º—ñ–Ω–≥ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π** –∑ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –Ω–∞ —á–∞–Ω–∫–∏ (chunks)
- **–†–æ–∑—Ä–æ–±–Ω–∏—Ü—å–∫–∏–π —Ç–∞ –≤–∏—Ä–æ–±–Ω–∏—á–∏–π —Ä–µ–∂–∏–º–∏**

–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äì –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –±–∞–Ω–¥–ª JavaScript, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π –≤ HTML —Å—Ç–æ—Ä—ñ–Ω–∫—É –∑ –ø–æ–≤–Ω–æ—é –ø–æ–¥–¥–µ—Ä–∂–∫–æ—é –Ω–æ–≤—ñ—Ç–Ω—ñ—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
lesson34/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.html           # –ì–æ–ª–æ–≤–Ω–∞ HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ index.js             # –ì–æ–ª–æ–≤–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îÇ   ‚îú‚îÄ‚îÄ statistics.js        # –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –±–∞–Ω–¥–ª (stat)
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ post.js          # –ö–ª–∞—Å Post (–µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è —è–∫ ES –º–æ–¥—É–ª—å)
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css        # –°—Ç–∏–ª—ñ –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îú‚îÄ‚îÄ data.json        # JSON –¥–∞–Ω—ñ
‚îÇ       ‚îú‚îÄ‚îÄ data.xml         # XML –¥–∞–Ω—ñ
‚îÇ       ‚îú‚îÄ‚îÄ data.csv         # CSV –¥–∞–Ω—ñ
‚îÇ       ‚îú‚îÄ‚îÄ icon-square-big.png  # –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è
‚îÇ       ‚îî‚îÄ‚îÄ fonts/           # –í–µ–±-—à—Ä–∏—Ñ—Ç–∏
‚îú‚îÄ‚îÄ webpack.config.js        # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Webpack
‚îú‚îÄ‚îÄ package.json             # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∏
‚îî‚îÄ‚îÄ dist/                    # –í–∏—Ö—ñ–¥–Ω–∞ –ø–∞–ø–∫–∞ (–≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è)
```

---

## üõ†Ô∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install
```

–∞–±–æ, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Yarn:

```bash
yarn install
```

**–û—Å–Ω–æ–≤–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**

- `webpack`, `webpack-cli` ‚Äì –º–æ–¥—É–ª—å–Ω–∏–π –∑–±–∏—Ä–∞—á —ñ CLI
- `html-webpack-plugin` ‚Äì –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è HTML –∑ –±–∞–Ω–¥–ª–æ–º
- `clean-webpack-plugin` ‚Äì –æ—á–∏—â–µ–Ω–Ω—è –ø–∞–ø–∫–∏ dist –ø–µ—Ä–µ–¥ –∑–±—ñ—Ä–∫–æ—é
- `style-loader`, `css-loader` ‚Äì –æ–±—Ä–æ–±–∫–∞ CSS —Ñ–∞–π–ª—ñ–≤
- `csv-loader`, `xml-loader` ‚Äì –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–∏—Ö
- `jquery` ‚Äì –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ DOM
- `normalize.css` ‚Äì –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–∏–ª—ñ–≤ –±—Ä–∞—É–∑–µ—Ä—ñ–≤

---

## üöÄ –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏

### –†–æ–∑—Ä–æ–±–∫–∞ (development mode)

```bash
npm run dev
# –∞–±–æ
yarn dev
```

–ó–±–∏—Ä–∞—î –ø—Ä–æ—î–∫—Ç —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ (–±–µ–∑ –º—ñ–Ω—ñ—Ñ—ñ–∫–∞—Ü—ñ—ó, –∑ –≤–∏—Ö—ñ–¥–Ω–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏).

### Production

```bash
npm run build
# –∞–±–æ
yarn build
```

–ó–±–∏—Ä–∞—î –ø—Ä–æ—î–∫—Ç —É –≤–∏—Ä–æ–±–Ω–∏—á–æ–º—É —Ä–µ–∂–∏–º—ñ (–º—ñ–Ω—ñ—Ñ—ñ–∫–∞—Ü—ñ—è, –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è).

### Watch (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞)

```bash
npm run watch
# –∞–±–æ
yarn watch
```

–°–ª—ñ–¥–∫—É—î –∑–∞ –∑–º—ñ–Ω–∞–º–∏ —Ñ–∞–π–ª—ñ–≤ —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Å–±–∏—Ä–∞—î –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö.

---

## üì¶ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### 1. **–ú–æ–¥—É–ª—ñ —Ç–∞ alias**

–§–∞–π–ª–∏ —ñ–º–ø–æ—Ä—Ç—É—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é ES6 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å–æ–∫–æ—Ä–æ—á–µ–Ω–∏—Ö —à–ª—è—Ö—ñ–≤:

```javascript
import '@css/style.css' // @css ‚Üí src/css
import Post from '@model/post' // @model ‚Üí src/model
import logo from '@assets/icon-square-big' // @assets ‚Üí src/assets
```

–ö–æ–Ω—Ñ—ñ–≥ `webpack.config.js` –≤–∏–∑–Ω–∞—á–∞—î —Ü—ñ alias:

```javascript
alias: {
  '@': path.resolve(__dirname, 'src'),
  '@model': path.resolve(__dirname, 'src/model'),
  '@css': path.resolve(__dirname, 'src/css'),
  '@assets': path.resolve(__dirname, 'src/assets')
}
```

### 2. **–û–±—Ä–æ–±–∫–∞ –∞–∫—Ç–∏–≤—ñ–≤**

- –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è ‚Üí –±–∞–∑–∞64 –∞–±–æ –æ–∫—Ä–µ–º—ñ —Ñ–∞–π–ª–∏
- CSS ‚Üí –≤–±—É–¥–æ–≤–∞–Ω–∏–π —Å—Ç–∏–ª—å —É JS –∞–±–æ –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª
- JSON/XML/CSV ‚Üí JavaScript –æ–±'—î–∫—Ç–∏
- –®—Ä–∏—Ñ—Ç–∏ ‚Üí –æ–∫—Ä–µ–º—ñ —Ñ–∞–π–ª–∏ –∑ –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è–º

### 3. **–ö—ñ–ª—å–∫–æ–≤—ñ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥—É**

–ü—Ä–æ—î–∫—Ç –º–∞—î **–¥–≤–∞ –±–∞–Ω–¥–ª–∏**:

- `main` ‚Äì –æ—Å–Ω–æ–≤–Ω–∏–π (index.js)
- `stat` ‚Äì —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (statistics.js)

–°–ø—ñ–ª—å–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (jQuery, normalize.css) –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–Ω–µ—Å–µ–Ω—ñ –≤ –æ–∫—Ä–µ–º–∏–π vendors —á–∞–Ω–∫.

### 4. **–ö–µ—à—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —Ö–µ—à—ñ**

–í–∏—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏ –º–∞—é—Ç—å –≤–±—É–¥–æ–≤–∞–Ω—ñ —Ö–µ—à—ñ –∫–æ–Ω—Ç–µ–Ω—Ç—É:

```
main.5a83170f9b72476fde63.js
stat.56fb2d9b446f504fa917.js
```

–¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–µ –¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–µ –∫–µ—à—É–≤–∞–Ω–Ω—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ.

---

## ‚ú® –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

**index.js:**

```javascript
import '@css/style.css'
import Post from '@model/post'
import logo from '@assets/icon-square-big'
import $ from 'jquery'

const post = new Post('Webpack Post Title', logo)
$('pre').html(post.toString())
console.log('–ì–æ—Ç–æ–≤–æ!')
```

**model/post.js:**

```javascript
export default class Post {
  constructor(title, img) {
    this.title = title
    this.date = new Date()
    this.image = img
  }

  toString() {
    return JSON.stringify(
      {
        title: this.title,
        image: this.image,
        date: this.date.toJSON()
      },
      null,
      2
    )
  }
}
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–±—ñ—Ä–∫–∏

–ü—ñ—Å–ª—è `npm run dev` —É –ø–∞–ø—Ü—ñ `dist/` –≤–∂–µ:

- `index.html` ‚Äì –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
- `main.*.js`, `stat.*.js` ‚Äì –±–∞–Ω–¥–ª–∏
- `vendors-*.js` ‚Äì —Å–ø—ñ–ª—å–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (jQuery, Normalize)
- `assets/` ‚Äì –æ–±—Ä–æ–±–ª–µ–Ω–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ —à—Ä–∏—Ñ—Ç–∏

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `dist/index.html` —É –±—Ä–∞—É–∑–µ—Ä—ñ, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

## üîß –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è

–©–æ–± –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:

1. **Babel** –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Å—Ç–∞—Ä—ñ—à–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤:

   ```bash
   npm install --save-dev babel-loader @babel/core @babel/preset-env
   ```

2. **Source Maps** –¥–ª—è –∑—Ä—É—á–Ω–æ—ó –≤—ñ–¥–ª–∞–¥–∫–∏ ‚Äì –¥–æ–¥–∞–π—Ç–µ –≤ `webpack.config.js`:

   ```javascript
   devtool: 'source-map'
   ```

3. **Dev Server** –¥–ª—è –≥–∞—Ä—è—á–æ—ó –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:
   ```bash
   npm install --save-dev webpack-dev-server
   ```

---

## üìö –¶—ñ–ª—ñ —É—Ä–æ–∫—É

- –†–æ–∑—É–º—ñ–Ω–Ω—è –º–æ–¥—É–ª—å–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- –ü—Ä–∞–∫—Ç–∏–∫–∞ —Ä–æ–±–æ—Ç–∏ –∑ Webpack –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –±–∞–Ω–¥–ª—É —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏
- –†–æ–∑–±—ñ—Ä –º–µ—Ö–∞–Ω—ñ–∑–º—É alias –¥–ª—è —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥—É
- –û–±—Ä–æ–±–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∞–∫—Ç–∏–≤—ñ–≤ (CSS, –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –¥–∞–Ω—ñ)

---

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

ISC
